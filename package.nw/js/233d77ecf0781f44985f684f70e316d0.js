;!function(require, directRequire){;"use strict";const request=require("request"),proxy=require('./437e6043fc662374e4f1c2330516ac40.js'),{CGI_DOMAIN,MP_DOMAIN,OPEN_DOMAIN}=require('./f171257bbcaef547a3cf27266ccb0db2.js'),os="darwin"===process.platform?"darwin":"win",appVersion=global.appVersion,HTTPS_ERROR={SELF_SIGNED_CERT_IN_CHAIN:!0,UNABLE_TO_VERIFY_LEAF_SIGNATURE:!0},tunnelMap={};function sendRequest(a,b){const c=a.url;(0===c.indexOf(CGI_DOMAIN)||0===c.indexOf(MP_DOMAIN)||0===c.indexOf(OPEN_DOMAIN))&&(a.url=-1===c.indexOf("?")?`${c}?os=${os}&clientversion=${appVersion}`:`${c}&os=${os}&clientversion=${appVersion}${global.osVersion?`&osversion=${global.osVersion}`:""}`),global.online&&(a.url+="&autodev=1");const d=proxy.getProxyForURL(c);a.proxy=d,a.tunnel=!(tunnelMap[d]!==void 0)||tunnelMap[d];const e=request(a,(c,e,f)=>{if(c&&HTTPS_ERROR[c.code]){const c=tunnelMap[d]=!confirm(`当前系统代理不是安全代理，是否信任？`);if(!c)return a.tunnel=c,void request(a,b)}"function"==typeof b&&b(c,e,f)});return e}module.exports=sendRequest;
;}(require("lazyload"), require);
